<hack>
  <title>email_notification</title>
  <author>Original author: signo | based on smacked1's hack</author>
  <version>3.0.0r547</version>
  <!-- database -->
  <file>
    <name>"database"</name>
    <operation>
      <action>"sql"</action>
      <data><![CDATA[ALTER TABLE `{$db_prefix}files` ADD `comment_notify` varchar(50) NOT NULL default 'true' AFTER `comment` ;]]></data>
    </operation>
    <operation>
      <action>"sql"</action>
      <data><![CDATA[ALTER TABLE `{$db_prefix}users` ADD `pm_mail_notify` varchar(50) NOT NULL default 'true' AFTER `email` ;]]></data>
    </operation>
    <operation>
      <action>"sql"</action>
      <data><![CDATA[ALTER TABLE `{$db_prefix}users` ADD `status_comment_notify` varchar(50) NOT NULL default 'true' AFTER `pm_mail_notify` ;]]></data>
    </operation>
  </file>
  <!-- account.php -->
  <file>
    <name>"$DEFAULT_ROOT/account.php"</name>
    <operation>
      <search><![CDATA[$email=mysql_escape_string($_POST["email"]);]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[$pm_mail_notify=sqlesc($_POST["pm_mail_notification"]);
	  $status_comment_notify=sqlesc($_POST["status_comment_notify"]);]]></data>
    </operation>
    <operation>
      <search><![CDATA[do_sqlquery("INSERT INTO {$TABLE_PREFIX}users (username, password, random, id_level, email, style, language, flag, joined, lastconnect, pid, time_offset) VALUES ('$utente', '" . md5($pwd) . "', $random, $idlevel, '$email', $idstyle, $idlangue, $idflag, NOW(), NOW(),'$pid', '".$timezone."')",true);]]></search>
	  <action>"replace"</action>
      <data><![CDATA[do_sqlquery("INSERT INTO {$TABLE_PREFIX}users (username, password, random, id_level, email, status_comment_notify, pm_mail_notify, style, language, flag, joined, lastconnect, pid, time_offset) VALUES ('$utente', '" . md5($pwd) . "', $random, $idlevel, '$email', $status_comment_notify, $pm_mail_notify, $idstyle, $idlangue, $idflag, NOW(), NOW(),'$pid', '".$timezone."')",true);]]></data>
    </operation>
  </file>
  <!-- comment.php -->
  <file>
    <name>"$DEFAULT_ROOT/comment.php"</name>
    <operation>
      <search><![CDATA[if ($user=="") $user="Anonymous";]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[global $BASEURL, $SITENAME, $language;

$res1 = mysql_fetch_assoc(mysql_query("SELECT comment_notify, uploader, anonymous FROM {$TABLE_PREFIX}files WHERE info_hash = '$id'")) or sqlerr();
$arr1 = $res1["uploader"];
$res = mysql_fetch_assoc(mysql_query("SELECT email FROM {$TABLE_PREFIX}users WHERE id = '$arr1'")) or sqlerr();
$email = $res["email"];
$comment_email_notify = $res1["comment_notify"];
$sender = $CURUSER['username'];
$senderid = $CURUSER['uid'];
$anonym_check = $res1["anonymous"];
$npmn = $language["NEW_COMMENT_T"];
$npmn2 = $language["BY"];
$npmn4 = $language["BODY"];

$body = <<<EOD
$npmn $npmn2 $sender.

$npmn4:

$comment

$BASEURL/index.php?page=torrent-details&id=$id#comments

------------------------------------------------
$SITENAME
EOD;
	if($comment_email_notify == "true" && $senderid != $arr1 && $anonym_check = "false")
	{ini_set("sendmail_from","");
   if (mysql_errno()==0)
     {
      send_mail($email,$npmn,$body);
      }
   else
       die(mysql_error());
	}]]></data>
    </operation>
  </file>
  <!-- edit.php -->
  <file>
    <name>"$DEFAULT_ROOT/edit.php"</name>
    <operation>
      <search><![CDATA[do_sqlquery("UPDATE {$TABLE_PREFIX}files SET filename='$fname', comment='" . AddSlashes($_POST["comment"]) . "', category=" . intval($_POST["category"]) . " WHERE info_hash='" . $torhash . "'",true);]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[do_sqlquery("UPDATE {$TABLE_PREFIX}files SET comment_notify='" . $_POST["comment_notify"] . "' WHERE info_hash='" . $torhash . "'",true);
]]></data>
    </operation>
    <operation>
      <search><![CDATA[$torrent["cat_combo"]= categories($results["cat_name"]); //$s;]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[// email_notification
		$res1 = mysql_fetch_assoc(mysql_query("SELECT comment_notify FROM {$TABLE_PREFIX}files WHERE info_hash = '" . AddSlashes($_GET["info_hash"]) . "'")) or sqlerr();
		$arr1 = $res1["comment_notify"];
//		$torrent["ed2klink"]=$results["ed2klink"];
		if ($arr1 == "true")
        {
          $torrent["COMMENT_NOTIFY_TRUE"]= "checked=\"checked\"";
          $torrent["COMMENT_NOTIFY_FALSE"]= "";
        }
		else
		{
			$torrent["COMMENT_NOTIFY_TRUE"]= "";
			$torrent["COMMENT_NOTIFY_FALSE"]= "checked=\"checked\"";
		}]]></data>
    </operation>
  </file>
  <!-- upload.php -->
  <file>
    <name>"$DEFAULT_ROOT/upload.php"</name>
    <operation>
      <search><![CDATA[$curuid=intval($CURUSER["uid"]);]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[// email_notification
	  if (isset($_POST["comment_notify"])) $comment_notify = sqlesc($_POST["comment_notify"]);]]></data>
    </operation>
    <operation>
      <search><![CDATA[if ($XBTT_USE)
              do_sqlquery("INSERT INTO xbt_files SET info_hash=0x$hash ON DUPLICATE KEY UPDATE flags=0",true);
         $query = "INSERT INTO {$TABLE_PREFIX}files (info_hash, filename, url, info, category, data, size, comment, uploader,anonymous, bin_hash) VALUES (\"$hash\", \"$filename\", \"$url\", \"$info\",0 + $categoria,NOW(), \"$size\", \"$comment\",$curuid,$anonyme,0x$hash)";
      }else
          {
          // maybe we find our announce in announce list??
             $internal=false;
             if (isset($array["announce-list"]) && is_array($array["announce-list"]))
                {
                for ($i=0;$i<count($array["announce-list"]);$i++)
                    {
                    if (in_array($array["announce-list"][$i][0],$TRACKER_ANNOUNCEURLS))
                      {
                       $internal = true;
                       continue;
                      }
                    }
                }
              if ($internal)
                {
                // ok, we found our announce, so it's internal and we will set our announce as main
                   $array["announce"]=$TRACKER_ANNOUNCEURLS[0];
                   $query = "INSERT INTO {$TABLE_PREFIX}files (info_hash, filename, url, info, category, data, size, comment, uploader,anonymous, bin_hash) VALUES (\"$hash\", \"$filename\", \"$url\", \"$info\",0 + $categoria,NOW(), \"$size\", \"$comment\",$curuid,$anonyme,0x$hash)";
                }
              else
                  $query = "INSERT INTO {$TABLE_PREFIX}files (info_hash, filename, url, info, category, data, size, comment,external,announce_url, uploader,anonymous, bin_hash) VALUES (\"$hash\", \"$filename\", \"$url\", \"$info\",0 + $categoria,NOW(), \"$size\", \"$comment\",\"yes\",\"$announce\",$curuid,$anonyme,0x$hash)";]]></search>
	  <action>"replace"</action>
      <data><![CDATA[if ($XBTT_USE)
              do_sqlquery("INSERT INTO xbt_files SET info_hash=0x$hash ON DUPLICATE KEY UPDATE flags=0",true);
         $query = "INSERT INTO {$TABLE_PREFIX}files (info_hash, filename, url, info, category, data, size, comment, comment_notify, uploader,anonymous, bin_hash) VALUES (\"$hash\", \"$filename\", \"$url\", \"$info\",0 + $categoria,NOW(), \"$size\", \"$comment\",$comment_notify,$curuid,$anonyme,0x$hash)";
      }else
          {
          // maybe we find our announce in announce list??
             $internal=false;
             if (isset($array["announce-list"]) && is_array($array["announce-list"]))
                {
                for ($i=0;$i<count($array["announce-list"]);$i++)
                    {
                    if (in_array($array["announce-list"][$i][0],$TRACKER_ANNOUNCEURLS))
                      {
                       $internal = true;
                       continue;
                      }
                    }
                }
              if ($internal)
                {
                // ok, we found our announce, so it's internal and we will set our announce as main
                   $array["announce"]=$TRACKER_ANNOUNCEURLS[0];
                   $query = "INSERT INTO {$TABLE_PREFIX}files (info_hash, filename, url, info, category, data, size, comment, comment_notify, uploader,anonymous, bin_hash) VALUES (\"$hash\", \"$filename\", \"$url\", \"$info\",0 + $categoria,NOW(), \"$size\", \"$comment\",$comment_notify,$curuid,$anonyme,0x$hash)";
                }
              else
                  $query = "INSERT INTO {$TABLE_PREFIX}files (info_hash, filename, url, info, category, data, size, comment, comment_notify, external,announce_url, uploader,anonymous, bin_hash) VALUES (\"$hash\", \"$filename\", \"$url\", \"$info\",0 + $categoria,NOW(), \"$size\", \"$comment\",$comment_notify,\"yes\",\"$announce\",$curuid,$anonyme,0x$hash)";]]></data>
    </operation>
    <operation>
      <search><![CDATA[$uploadtpl->set("upload_script","index.php");]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[// email_notification
	  $status_comment_notify = mysql_fetch_assoc(do_sqlquery("SELECT status_comment_notify FROM {$TABLE_PREFIX}users WHERE id=".$CURUSER["uid"]));
	  $status_comment = $status_comment_notify["status_comment_notify"];
	  if ($status_comment == "true")
        {
          $uploadtpl->set("COMMENT_NOTIFY_TRUE", "checked=\"checked\"");
          $uploadtpl->set("COMMENT_NOTIFY_FALSE", "");
        }
		else
		{
			$uploadtpl->set("COMMENT_NOTIFY_TRUE", "");
			$uploadtpl->set("COMMENT_NOTIFY_FALSE", "checked=\"checked\"");
		}]]></data>
    </operation>
  </file>
  <!-- admin/admin.main.php -->
  <file>
    <name>"$DEFAULT_ROOT/admin/admin.main.php"</name>
    <operation>
      <search><![CDATA[$last_version=explode("/",strtolower($btit_last));  // array('2.0.0','beta','2')

$your_version="";]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[$hack_email_notification_url_last="http://www.altrinformazione.com/last_version/last_email_notification_version_547.txt";

// check last version on www.altrinformazione.com
$hack_email_notification_last=get_cached_version($hack_email_notification_url_last);
if (!$hack_email_notification_last)
{
  $hack_email_notification_last=get_remote_file($hack_email_notification_url_last);
  if ($hack_email_notification_last)
     write_cached_version($hack_email_notification_url_last,$hack_email_notification_last);
  else
      $hack_email_notification_last = $language["PM_NOTIFY_NO_INFO"];
}
$title_email_notification = "email_notification";
$res_email_notification_version = get_result("SELECT title, version FROM {$TABLE_PREFIX}hacks WHERE title LIKE '" . $title_email_notification . "'",true);
$row_email_notification = $res_email_notification_version[0];
$last_email_notification_version=explode("/",strtolower($hack_email_notification_last));

$your_email_notification_version="";]]></data>
    </operation>
    <operation>
      <search><![CDATA[$your_version.="You have the latest xBtit version installed.";
}]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[if (($row_email_notification["version"] != implode(" ",$last_email_notification_version)))
  {
  $your_email_notification_version.="<table width=\"100%\"><tr><td align=\"left\">".$language["PM_NOTIFY_INSTALLED"]."</td><td align=\"left\">".$row_email_notification["version"]."</td></tr>\n";
  $your_email_notification_version.="<tr><td align=\"left\">".$language["PM_NOTIFY_CURRENT"]."</td><td align=\"left\">".implode(" ",$last_email_notification_version)."</td></tr>\n";
  $your_email_notification_version.="<tr><td align=\"left\"><b>".$language["PM_NOTIFY_GET"]."<a href=\"http://www.btiteam.org/smf/index.php?topic=10456\" target=\"_blank\">".$language["PM_NOTIFY_OFFICIAL_RELEASE"]."</b></a></td></tr>\n</table>";
}
else
  {
  $your_email_notification_version.="".$language["PM_NOTIFY_VERSION"]."";
}]]></data>
    </operation>
    <operation>
      <search><![CDATA[if (!empty($your_version))
   $admin["xbtit_version"]=$your_version."<br />\n";]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[if (!empty($your_email_notification_version))
   $admin["email_notification_version"]=$your_email_notification_version."<br />\n";]]></data>
    </operation>
  </file>
  <!-- /admin/admin.users.tools.php -->
  <file>
    <name>"$DEFAULT_ROOT/admin/admin.users.tools.php"</name>
    <operation>
      <search><![CDATA[if ($XBTT_USE)
	$curu=get_result('SELECT u.username, u.cip, ul.level, ul.id_level as base_level, u.email, u.avatar, u.joined, u.lastconnect, u.id_level, u.language, u.style, u.flag, u.time_offset, u.topicsperpage, u.postsperpage, u.torrentsperpage, (u.downloaded+x.downloaded) as downloaded, (u.uploaded+x.uploaded) as uploaded FROM '.$TABLE_PREFIX.'users u INNER JOIN '.$TABLE_PREFIX.'users_level ul ON ul.id=u.id_level LEFT JOIN xbt_users x ON x.uid=u.id WHERE id='.$uid.' LIMIT 1',true);
else
	$curu=get_result('SELECT u.username, u.cip, ul.level, ul.id_level as level_base, u.email, u.avatar, u.joined, u.lastconnect, u.id_level, u.language, u.style, u.flag, u.time_offset, u.topicsperpage, u.postsperpage, u.torrentsperpage, u.downloaded, u.uploaded FROM '.$TABLE_PREFIX.'users u INNER JOIN '.$TABLE_PREFIX.'users_level ul ON ul.id=u.id_level WHERE u.id='.$uid.' LIMIT 1',true);]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[$pm_mail_notify = mysql_query("SELECT pm_mail_notify FROM {$TABLE_PREFIX}users WHERE id=$uid");
	  $status_comment_notify = mysql_query("SELECT status_comment_notify FROM {$TABLE_PREFIX}users WHERE id=$uid");]]></data>
    </operation>
    <operation>
      <search><![CDATA[$profile['email']=unesc($curu['email']);]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[	  //email_notification
	  // pm notify
	  $pmnotify = mysql_result($pm_mail_notify, 0);
      if ($pmnotify == "true")
        {
          $profile["PM_MAIL_NOTIFY_TRUE"]= "checked=\"checked\"";
          $profile["PM_MAIL_NOTIFY_FALSE"]= "";
        }
		else
		{
			$profile["PM_MAIL_NOTIFY_TRUE"]= "";
			$profile["PM_MAIL_NOTIFY_FALSE"]= "checked=\"checked\"";
		}
		// comment notify
	  $status_comment = mysql_result($status_comment_notify, 0);
      if ($status_comment == "true")
        {
          $profile["COMMENT_NOTIFY_TRUE"]= "checked=\"checked\"";
          $profile["COMMENT_NOTIFY_FALSE"]= "";
        }
		else
		{
			$profile["COMMENT_NOTIFY_TRUE"]= "";
			$profile["COMMENT_NOTIFY_FALSE"]= "checked=\"checked\"";
		}]]></data>
    </operation>
    <operation>
      <search><![CDATA[$email=AddSlashes($_POST['email']);]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[$pm_mail_notification=$_POST['pm_mail_notification'];
	  $status_comment_notification=$_POST['status_comment_notify'];]]></data>
    </operation>
    <operation>
      <search><![CDATA[$set[]='email='.sqlesc($email);]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[$set[]="pm_mail_notify='$pm_mail_notification'";
	  $set[]="status_comment_notify='$status_comment_notification'";]]></data>
    </operation>
  </file>
  <!-- /user/usercp.pmbox.php -->
  <file>
    <name>"$DEFAULT_ROOT/user/usercp.pmbox.php"</name>
    <operation>
      <search><![CDATA[else
                 do_sqlquery("INSERT INTO {$TABLE_PREFIX}messages (sender, receiver, added, subject, msg) VALUES ($send,$rec,UNIX_TIMESTAMP(),$subject,$msg)") or die(mysql_error());]]></search>
	  <action>"replace"</action>
      <data><![CDATA[else
	  {
                 do_sqlquery("INSERT INTO {$TABLE_PREFIX}messages (sender, receiver, added, subject, msg) VALUES ($send,$rec,UNIX_TIMESTAMP(),$subject,$msg)") or die(mysql_error());
	  global $BASEURL, $SITENAME, $SITEEMAIL, $language;

$res = mysql_fetch_assoc(mysql_query("SELECT email, pm_mail_notify FROM {$TABLE_PREFIX}users WHERE id = $rec")) or sqlerr();
$email = $res["email"];
$pm_mail_notification = $res["pm_mail_notify"];
$sender = $CURUSER['username'];
$txt = $_POST["msg"];
$npmn = $language["MNU_UCP_NEWPM"];
$npmn2 = $language["BY"];
$npmn3 = $language["SUBJECT"];
$npmn4 = $language["BODY"];

nl2br(htmlentities($txt));

$body = <<<EOD
$npmn $npmn2 $sender.

$npmn3:
$subject

$npmn4:
$txt

$BASEURL/index.php?page=login

------------------------------------------------
$SITENAME
EOD;
	if($pm_mail_notification == "true")
	{ini_set("sendmail_from","");
   if (mysql_errno()==0)
     {
      send_mail($email,$npmn,$body);
      }
   else
       die(mysql_error());
	}
	}]]></data>
    </operation>
  </file>
  <!-- /user/usercp.profile.php -->
  <file>
    <name>"$DEFAULT_ROOT/user/usercp.profile.php"</name>
    <operation>
      <search><![CDATA[$set[]="torrentsperpage=".intval(0+$_POST["torrentsperpage"]);]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[$set[]="pm_mail_notify=".sqlesc($_POST["pm_mail_notification"]);
	  $set[]="status_comment_notify=".sqlesc($_POST["status_comment_notify"]);]]></data>
    </operation>
    <operation>
      <search><![CDATA[$profiletpl["avatar"]="<img border=\"0\" onload=\"resize_avatar(this);\" src=\"".htmlspecialchars(unesc($CURUSER["avatar"]))."\" alt=\"\" />";
        }]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[      // email_notification
	  // pm notify
	  $pm_mail_notify = mysql_query("SELECT pm_mail_notify FROM {$TABLE_PREFIX}users WHERE id=".$CURUSER["uid"]);
	  $pmnotify = mysql_result($pm_mail_notify, 0);
      if ($pmnotify == "true")
        {
          $profiletpl["PM_MAIL_NOTIFY_TRUE"]= "checked=\"checked\"";
          $profiletpl["PM_MAIL_NOTIFY_FALSE"]= "";
        }
		else
		{
			$profiletpl["PM_MAIL_NOTIFY_TRUE"]= "";
			$profiletpl["PM_MAIL_NOTIFY_FALSE"]= "checked=\"checked\"";
		}
	  // comment notify
	  $status_comment_notify = mysql_query("SELECT status_comment_notify FROM {$TABLE_PREFIX}users WHERE id=".$CURUSER["uid"]);
	  $status_comment = mysql_result($status_comment_notify, 0);
      if ($status_comment == "true")
        {
          $profiletpl["COMMENT_NOTIFY_TRUE"]= "checked=\"checked\"";
          $profiletpl["COMMENT_NOTIFY_FALSE"]= "";
        }
		else
		{
			$profiletpl["COMMENT_NOTIFY_TRUE"]= "";
			$profiletpl["COMMENT_NOTIFY_FALSE"]= "checked=\"checked\"";
		}]]></data>
    </operation>
  </file>
  <!-- /style/xbtit_default/account.tpl -->
  <file>
    <name>"$DEFAULT_STYLE_PATH/account.tpl"</name>
    <operation>
      <search><![CDATA[<td align="left" class="header"><tag:language.USER_EMAIL_AGAIN />:</td>
       <td align="left" class="lista"><input type="text" size="30" name="email_again" id="email_again" autocomplete="off" value="<tag:dati.email />"/></td>]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[<tr>
	  <td align="left" class="header"><tag:language.PROFILE_PM_MAIL_NOTIFY /></td>
      <td class="lista">&nbsp;&nbsp;<tag:language.YES /><input type="radio" name="pm_mail_notification" value="true" checked="checked" />&nbsp;&nbsp;<tag:language.NO /><input type="radio" name="pm_mail_notification" value="false" />&nbsp;&nbsp;<tag:language.ALLOW_PM_MAIL_NOTIFY /></td>
    </tr>
	<tr>
	  <td align="left" class="header"><tag:language.PROFILE_COMMENT_MAIL_NOTIFY /></td>
      <td class="lista">&nbsp;&nbsp;<tag:language.YES /><input type="radio" name="status_comment_notify" value="true" checked="checked"  />&nbsp;&nbsp;<tag:language.NO /><input type="radio" name="status_comment_notify" value="false" />&nbsp;&nbsp;<tag:language.DEFAULT_COMMENT_NOTIFY /></td>
    </tr>]]></data>
    </operation>
  </file>
  <!-- /style/xbtit_default/admin.main.tpl -->
  <file>
    <name>"$DEFAULT_STYLE_PATH/admin.main.tpl"</name>
    <operation>
      <search><![CDATA[<tr><td class="lista"><tag:admin.xbtit_version /></td></tr>]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[<tr><td class="block" align="center"><b><tag:language.PM_NOTIFY_INFO /></b></td></tr>
	  <tr><td class="lista"><tag:admin.email_notification_version /></td></tr>]]></data>
    </operation>
  </file>
  <!-- /style/xbtit_default/admin.users.tools.tpl -->
  <file>
    <name>"$DEFAULT_STYLE_PATH/admin.users.tools.tpl"</name>
    <operation>
      <search><![CDATA[<td align="left" class="lista"><input type="text" size="30" name="email" maxlength="30" value="<tag:profile.email />"/></td>
		</tr>]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[<tr>
	  <td align="left" class="header"><tag:language.PROFILE_PM_MAIL_NOTIFY /></td>
      <td class="lista">&nbsp;&nbsp;<tag:language.YES /><input type="radio" name="pm_mail_notification" value="true" <tag:profile.PM_MAIL_NOTIFY_TRUE /> />&nbsp;&nbsp;<tag:language.NO /><input type="radio" name="pm_mail_notification" value="false" <tag:profile.PM_MAIL_NOTIFY_FALSE /> />&nbsp;&nbsp;<tag:language.ALLOW_PM_MAIL_NOTIFY /></td>
    </tr>
	<tr>
	  <td align="left" class="header"><tag:language.PROFILE_COMMENT_MAIL_NOTIFY /></td>
      <td class="lista">&nbsp;&nbsp;<tag:language.YES /><input type="radio" name="status_comment_notify" value="true" <tag:profile.COMMENT_NOTIFY_TRUE /> />&nbsp;&nbsp;<tag:language.NO /><input type="radio" name="status_comment_notify" value="false" <tag:profile.COMMENT_NOTIFY_FALSE /> />&nbsp;&nbsp;<tag:language.DEFAULT_COMMENT_NOTIFY /></td>
    </tr>]]></data>
    </operation>
  </file>
  <!-- /style/xbtit_default/torrent.edit.tpl -->
  <file>
    <name>"$DEFAULT_STYLE_PATH/torrent.edit.tpl"</name>
    <operation>
      <search><![CDATA[<td class="lista"><tag:torrent.cat_combo /></td>
      </tr>]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[<tr>
	  <td align="left" class="header"><tag:language.PROFILE_COMMENT_MAIL_NOTIFY /></td>
      <td class="lista">&nbsp;&nbsp;<tag:language.YES /><input type="radio" name="comment_notify" value="true" <tag:torrent.COMMENT_NOTIFY_TRUE /> />&nbsp;&nbsp;<tag:language.NO /><input type="radio" name="comment_notify" value="false" <tag:torrent.COMMENT_NOTIFY_FALSE /> />&nbsp;&nbsp;<tag:language.ALLOW_COMMENT_NOTIFY /></td>
    </tr>]]></data>
    </operation>
  </file>
  <!-- /style/xbtit_default/upload.tpl -->
  <file>
    <name>"$DEFAULT_STYLE_PATH/upload.tpl"</name>
    <operation>
      <search><![CDATA[<tag:language.YES /><input type="radio" name="anonymous" value="true" /></td>
    </tr>]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[<tr>
	  <td align="left" class="header"><tag:language.PROFILE_COMMENT_MAIL_NOTIFY /></td>
      <td class="lista">&nbsp;&nbsp;<tag:language.YES /><input type="radio" name="comment_notify" value="true" <tag:COMMENT_NOTIFY_TRUE /> />&nbsp;&nbsp;<tag:language.NO /><input type="radio" name="comment_notify" value="false" <tag:COMMENT_NOTIFY_FALSE /> />&nbsp;&nbsp;<tag:language.ALLOW_COMMENT_NOTIFY /></td>
    </tr>]]></data>
    </operation>
  </file>
  <!-- /style/xbtit_default/usercp.profile.tpl -->
  <file>
    <name>"$DEFAULT_STYLE_PATH/usercp.profile.tpl"</name>
    <operation>
      <search><![CDATA[<td align="left" class="lista" colspan="2"><tag:language.REVERIFY_MSG /></td>
    </tr>
  </if:USER_VALIDATION>]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[<tr>
	  <td align="left" class="header"><tag:language.PROFILE_PM_MAIL_NOTIFY /></td>
      <td class="lista">&nbsp;&nbsp;<tag:language.YES /><input type="radio" name="pm_mail_notification" value="true" <tag:profile.PM_MAIL_NOTIFY_TRUE /> />&nbsp;&nbsp;<tag:language.NO /><input type="radio" name="pm_mail_notification" value="false" <tag:profile.PM_MAIL_NOTIFY_FALSE /> />&nbsp;&nbsp;<tag:language.ALLOW_PM_MAIL_NOTIFY /></td>
    </tr>
	<tr>
	  <td align="left" class="header"><tag:language.PROFILE_COMMENT_MAIL_NOTIFY /></td>
      <td class="lista">&nbsp;&nbsp;<tag:language.YES /><input type="radio" name="status_comment_notify" value="true" <tag:profile.COMMENT_NOTIFY_TRUE /> />&nbsp;&nbsp;<tag:language.NO /><input type="radio" name="status_comment_notify" value="false" <tag:profile.COMMENT_NOTIFY_FALSE /> />&nbsp;&nbsp;<tag:language.DEFAULT_COMMENT_NOTIFY /></td>
    </tr>]]></data>
    </operation>
  </file>
  <!-- /language/english/lang_main.php -->
  <file>
    <name>"$DEFAULT_LANGUAGE_PATH/lang_main.php"</name>
    <operation>
            <search><![CDATA[$language['MODULE_LOAD_ERROR']='The module required seems to be wrong!';]]></search>
	  <action>"add"</action>
      <where>"after"</where>
      <data><![CDATA[
	  $language['PM_NOTIFY_CURRENT']='Hack email_notification Last Version:';
	  $language['PM_NOTIFY_GET']='Get Last Hack email_notification Version ';
	  $language['PM_NOTIFY_INFO']='Hack email_notification Version Information:';
	  $language['PM_NOTIFY_INSTALLED']='Hack email_notification - Version Currently Installed:';
	  $language['PM_NOTIFY_NO_INFO']='No information received';
	  $language['PM_NOTIFY_OFFICIAL_RELEASE']='Here!';
	  $language['PM_NOTIFY_VERSION']='You have the latest Hack email_notification version installed.';]]></data>
	</operation>
  </file>
  <!-- /language/english/lang_usercp.php -->
  <file>
    <name>"$DEFAULT_LANGUAGE_PATH/lang_usercp.php"</name>
    <operation>
      <search><![CDATA[$language['ERR_PM_GUEST']='Sorry you can&rsquo;t send PM to guest or to yourself!';]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[
	  $language['PROFILE_PM_MAIL_NOTIFY']='PM e-mail notification';
	  $language['ALLOW_PM_MAIL_NOTIFY']='Enable/disable	 the e-mail notification for every new personal message.';
	  $language['PROFILE_COMMENT_MAIL_NOTIFY']='Comment e-mail notification';
	  $language['ALLOW_COMMENT_NOTIFY']='Enable/disable	the e-mail notification for every new comment at this torrent.';
	  $language['DEFAULT_COMMENT_NOTIFY']='Enable/disable the e-mail notification for every new comment at your torrent. (Default)';]]></data>
    </operation>
  </file>
  <!-- /language/english/lang_account.php -->
  <file>
    <name>"$DEFAULT_LANGUAGE_PATH/lang_account.php"</name>
    <operation>
      <search><![CDATA[$language['STRONG']='Strong';]]></search>
	  <action>"add"</action>
	  <where>"after"</where>
      <data><![CDATA[
	  $language['PROFILE_PM_MAIL_NOTIFY']='PM e-mail notification';
	  $language['ALLOW_PM_MAIL_NOTIFY']='Enable/disable	the e-mail notification for every new personal message.';
	  $language['PROFILE_COMMENT_MAIL_NOTIFY']='Comment e-mail notification';
	  $language['ALLOW_COMMENT_NOTIFY']='Enable/disable	the e-mail notification for every new comment at this torrent.';
	  $language['DEFAULT_COMMENT_NOTIFY']='Enable/disable the e-mail notification for every new comment at your torrent. (Default)';]]></data>
    </operation>
  </file>
</hack>